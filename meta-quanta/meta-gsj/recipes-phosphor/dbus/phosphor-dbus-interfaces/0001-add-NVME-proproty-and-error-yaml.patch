From 1b2569fd9df3e5d2b0448a1d09886a0dbe6a1468 Mon Sep 17 00:00:00 2001
From: tony lee <tony.lee@quantatw.com>
Date: Tue, 19 Mar 2019 11:27:35 +0800
Subject: [PATCH] add proproty and error yaml

---
 xyz/openbmc_project/Nvme/Status.errors.yaml   | 16 +++++++++
 .../Nvme/Status.interface.yaml                | 40 ++++++++++++++++++++++
 2 files changed, 56 insertions(+)
 create mode 100644 xyz/openbmc_project/Nvme/Status.errors.yaml
 create mode 100644 xyz/openbmc_project/Nvme/Status.interface.yaml

diff --git a/xyz/openbmc_project/Nvme/Status.errors.yaml b/xyz/openbmc_project/Nvme/Status.errors.yaml
new file mode 100644
index 0000000..b5037ed
--- /dev/null
+++ b/xyz/openbmc_project/Nvme/Status.errors.yaml
@@ -0,0 +1,16 @@
+- name: CapacityFault
+  description: The available spare capacity has fallen below the threshold
+
+- name: TemperatureFault
+  description: A temperature is above an over temperature threshold or below an under temperature threshold 
+
+- name: DegradesFault
+  description: The NVM subsystem reliability has been
+               degraded due to significant media related errors or any
+               internal error that degrades NVM subsystem reliability.
+
+- name: MediaFault
+  description: The media has been placed in read only mode.
+
+- name: BackupDeviceFault
+  description: The volatile memory backup device has failed. 
\ No newline at end of file
diff --git a/xyz/openbmc_project/Nvme/Status.interface.yaml b/xyz/openbmc_project/Nvme/Status.interface.yaml
new file mode 100644
index 0000000..597204e
--- /dev/null
+++ b/xyz/openbmc_project/Nvme/Status.interface.yaml
@@ -0,0 +1,40 @@
+description: >
+    Interface to get Nvme info.
+properties:  
+    - name: SmartWarnings
+      type: string
+      description: >
+          Indicates smart warnings for the state.     
+    - name: StatusFlags
+      type: string
+      description: >
+          Indicates the status of the drives.
+    - name: DriveLifeUsed
+      type: string
+      description: >
+          A vendor specific estimate of the percentage.
+    - name: CapacityFault
+      type: boolean
+      default: false
+      description: >
+        represent first bit of SmartWarnings is set to 0 
+    - name: TemperatureFault
+      type: boolean
+      default: false
+      description: >
+        represent second bit of SmartWarnings is set to 0 
+    - name: DegradesFault
+      type: boolean
+      default: false
+      description: >
+        represent third bit of SmartWarnings is set to 0 
+    - name: MediaFault
+      type: boolean
+      default: false
+      description: >
+        represent fourth bit of SmartWarnings is set to 0 
+    - name: BackupDeviceFault
+      type: boolean
+      default: false
+      description: >
+        represent fifth bit of SmartWarnings is set to 0 
\ No newline at end of file
-- 
2.7.4

